{
  "name": "web-session-9b-silent",
  "modulation": {
    "code": "import(\"stdfaust.lib\");\n\nf = vslider(\"freq [scale:log] [unit:Hz]\", 1, 0.1, 10, 0.01);\nmix = vslider(\"ratio\", 1, 0, 1, 0.01);\n\nprocess = lfo1, square, sh, shsq with {\n\tlfo1 = os.osc(f/2);\n  square = os.lf_squarewave(2*f);\n\tsh = no.noise : ba.sAndH(os.lf_imptrain(f/4));\n  shsq = square, sh : si.interpolate(mix);\n};\n",
    "params": {
      "/FaustDSP/freq": 0.2630267991895382,
      "/FaustDSP/ratio": 0.18
    },
    "mods": {
      "/FaustDSP/freq": {
        "source": "shsq",
        "amount": -0.09585535211786653
      },
      "/FaustDSP/ratio": {
        "source": "lfo1",
        "amount": 0.7185244640977649
      }
    },
    "scopes": [
      "lfo1",
      "sh",
      "shsq"
    ]
  },
  "synth": {
    "code": "import(\"stdfaust.lib\");\n\nui(x) = tgroup(\"Euclid Van der Pol\", x);\nuiseq(x) = ui(hgroup(\"[1]Sequencer\", x));\n\nN = uiseq(vslider(\"[0]N\", 15, 2, 21, 1));\nCLK = uiseq(vslider(\"[0]Clock [scale:log] [unit: bpm]\", 200, 10, 900, 0.1)) : /(60) : si.smoo;\nK1 = uiseq(vslider(\"[1]K1\", 2, 2, 21, 1)) : min(N);\nK2 = uiseq(vslider(\"[4]K2\", 7, 2, 21, 1)) : min(N);\nK3 = uiseq(vslider(\"[7]K3\", 9, 2, 21, 1)) : min(N);\n\nclock = os.lf_imptrain(CLK);\n\n/* \nideal syntax below (maybe write a pre-processor)\n\ncounter(imp) = trig with {\n    i = (i' + imp) % n;\n    e = ba.if(imp, descent, e');\n    descent = (k * i') % n >= (k * i) % n;\n    trig = imp * e;\n}\n*/\n\neuclid(n, k, clock) = clock : counter : _ with {\n    counter(imp) = (_counter ~ (_,_))(imp) : !,!,_ with {\n        _counter(_i, _e, imp) = i, e, trig with {\n            i = (_i + imp) % n;\n            e = ba.if(imp, descent, _e);\n            descent = (k * _i) % n >= (k * i) % n;\n            trig = imp * e;\n        };\n    };\n};\n\nuio1(x) = ui(hgroup(\"[2]Osc 1\", x));\nuio2(x) = ui(hgroup(\"[3]Osc 2\", x));\nuio3(x) = ui(hgroup(\"[4]Osc 3\", x));\n\nquant = qu.quantize(55, qu.mixo);\n\n// Forced Van der Pol oscillator\nfvdp(trig) = trig : resonator <: dry, wet : interprod with {\n  dry = _;\n  wet = _ : (loop ~ (_,_)) : par(i, 2, out) : spread;  \n  \n  // driving source\n  resonator(trig) = trig : pm.strike(0.2, 0.2, 0.5) : fi.nlf2(uiFreq, 1 - 1/uiQ) : _,!;\n\n  // signal conditioning block\n  // (saturation with variable limit) -> (dc blocker with variable frequency)\n  sblock(x) = x : /(uiLim) : ma.tanh : *(uiLim) : fi.highpass(1, uiHP);\n\n  loop(x, y, osc) = sblock(x1), sblock(y1) with {\n    x1 = x + uiDt * y;\n    y1 = y + uiDt * (uiEps * y * (1 - x^2) - x + uiForce * osc);\n  };\n\n  out = /(uiLim) : *(uiDrive) : ma.tanh;\n\n  spread(x, y) = x, y : si.interpolate(uiSpread);\n\n  // 3-way mixer, interpolates between 3 signals based on a [0..1] value\n  mix3(v, x, y, z) = gX * x + gY * y + gZ * z with {\n      gX = ba.listInterp((1, 0, 0), v * 2);\n      gY = ba.listInterp((0, 1, 0), v * 2);\n      gZ = ba.listInterp((0, 0, 1), v * 2);\n  };\n\n  // interpolate between two signals through their product\n  interprod(a, b) = mix3(uiDryWet, a, a*b, b);\n  \n  uiFreq = vslider(\"[1]Freq [unit:Hz] [scale:log]\", 55, 0.1, 16000, 0.01) : quant : si.smoo;\n  uiQ = vslider(\"[2]Q\", 14, 1.1, 20, 0.01) : ^(4) : si.smoo;\n\n  uiForce = vslider(\"[3]Force\", 0.5, 0.001, 1, 0.01) : ^(2) : *(100) : si.smoo;\n  uiEps = vslider(\"[4]Feedback\", 0.1, 0, 1, 0.00001) : ^(2) : *(50) : si.smoo;\n  uiDt = vslider(\"[5]dt\", 1, 0.1, 20, 0.001) : /(50) : si.smoo;\n  uiLim = vslider(\"[6]Limit\",  0.1, 0.0001, 1, .000001) : ^(2) : *(100) : si.smoo;\n  uiHP = vslider(\"[7]DC Block [scale:log]\", 10, 0.5, 220, 0.001) : si.smoo;\n  uiDrive = vslider(\"[8]Drive\", 0.3, 0, 1, 0.001) : ^(4) : *(11) : si.smoo;\n\n  uiSpread = vslider(\"[90]Spread\", 0.42, 0, 1, 0.01) : si.smoo;\n  uiDryWet = vslider(\"[91]DryWet\", 0.21, 0, 1, 0.01) : si.smoo;\n};\n\neseq(clock) = clock <: euclid(N, K1), euclid(N, K2), euclid(N, K3);\n\nprocess = clock : eseq : uio1(fvdp), uio2(fvdp), uio3(fvdp) :> /(3) <: ui(dm.zita_light) : _,_;\n",
    "params": {
      "/Euclid Van der Pol/Sequencer/Clock": 233.32955706220972,
      "/Euclid Van der Pol/Sequencer/N": 11.12,
      "/Euclid Van der Pol/Zita Light/Dry/Wet Mix": 0.6799999999999999,
      "/Euclid Van der Pol/Sequencer/K1": 2.95,
      "/Euclid Van der Pol/Osc 1/Freq": 82.0932010311668,
      "/Euclid Van der Pol/Osc 2/Freq": 439.42421732244685,
      "/Euclid Van der Pol/Osc 3/Freq": 82.0932010311668,
      "/Euclid Van der Pol/Zita Light/Level": 1.5,
      "/Euclid Van der Pol/Osc 1/Q": 18.866,
      "/Euclid Van der Pol/Osc 2/Q": 10.549999999999999,
      "/Euclid Van der Pol/Osc 3/Q": 9.415999999999999,
      "/Euclid Van der Pol/Osc 1/Force": 0.48052,
      "/Euclid Van der Pol/Osc 2/Force": 0.86014,
      "/Euclid Van der Pol/Osc 3/Force": 0.57043,
      "/Euclid Van der Pol/Sequencer/K2": 4.85,
      "/Euclid Van der Pol/Osc 1/Feedback": 0.04,
      "/Euclid Van der Pol/Osc 2/Feedback": 0.33,
      "/Euclid Van der Pol/Osc 3/Feedback": 0.62,
      "/Euclid Van der Pol/Osc 1/dt": 0.8959999999999999,
      "/Euclid Van der Pol/Osc 2/dt": 0.8959999999999999,
      "/Euclid Van der Pol/Osc 3/dt": 2.09,
      "/Euclid Van der Pol/Osc 1/Limit": 0.570043,
      "/Euclid Van der Pol/Osc 2/Limit": 0.320068,
      "/Euclid Van der Pol/Osc 3/Limit": 0.05009500000000001,
      "/Euclid Van der Pol/Sequencer/K3": 3.1399999999999997,
      "/Euclid Van der Pol/Osc 1/DC Block": 35.43128292231444,
      "/Euclid Van der Pol/Osc 2/DC Block": 15.111358302367512,
      "/Euclid Van der Pol/Osc 3/DC Block": 3.7265708935414135,
      "/Euclid Van der Pol/Osc 1/Drive": 0.93,
      "/Euclid Van der Pol/Osc 2/Drive": 0.94,
      "/Euclid Van der Pol/Osc 3/Drive": 0.87,
      "/Euclid Van der Pol/Osc 1/Spread": 0.66,
      "/Euclid Van der Pol/Osc 2/Spread": 0.75,
      "/Euclid Van der Pol/Osc 3/Spread": 0.43,
      "/Euclid Van der Pol/Osc 1/DryWet": 0.47,
      "/Euclid Van der Pol/Osc 2/DryWet": 0.58,
      "/Euclid Van der Pol/Osc 3/DryWet": 0.12
    },
    "mods": {
      "/Euclid Van der Pol/Sequencer/Clock": {
        "source": "lfo1",
        "amount": -0.014309673427674766
      },
      "/Euclid Van der Pol/Sequencer/N": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Zita Light/Dry/Wet Mix": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Sequencer/K1": {
        "source": "sh",
        "amount": 0.061531401238045395
      },
      "/Euclid Van der Pol/Osc 1/Freq": {
        "source": "sh",
        "amount": -0.021162508879761052
      },
      "/Euclid Van der Pol/Osc 2/Freq": {
        "source": "sh",
        "amount": -0.1498853975355226
      },
      "/Euclid Van der Pol/Osc 3/Freq": {
        "source": "-",
        "amount": -0.02836478675429996
      },
      "/Euclid Van der Pol/Zita Light/Level": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Osc 1/Q": {
        "source": "-",
        "amount": 0.5490320563322446
      },
      "/Euclid Van der Pol/Osc 2/Q": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Osc 3/Q": {
        "source": "-",
        "amount": -0.1073253282998503
      },
      "/Euclid Van der Pol/Osc 1/Force": {
        "source": "-",
        "amount": -0.16931579617455636
      },
      "/Euclid Van der Pol/Osc 2/Force": {
        "source": "-",
        "amount": -0.38159724160703345
      },
      "/Euclid Van der Pol/Osc 3/Force": {
        "source": "-",
        "amount": -0.2371220112549359
      },
      "/Euclid Van der Pol/Sequencer/K2": {
        "source": "-",
        "amount": 0.2734496556236085
      },
      "/Euclid Van der Pol/Osc 1/Feedback": {
        "source": "-",
        "amount": 0.0018011869375216337
      },
      "/Euclid Van der Pol/Osc 2/Feedback": {
        "source": "lfo1",
        "amount": 0.1337449109350685
      },
      "/Euclid Van der Pol/Osc 3/Feedback": {
        "source": "-",
        "amount": -0.03545426218526421
      },
      "/Euclid Van der Pol/Osc 1/dt": {
        "source": "lfo1",
        "amount": -0.02756444011885689
      },
      "/Euclid Van der Pol/Osc 2/dt": {
        "source": "-",
        "amount": 0.0010811778788509807
      },
      "/Euclid Van der Pol/Osc 3/dt": {
        "source": "-",
        "amount": -0.006901315459747397
      },
      "/Euclid Van der Pol/Osc 1/Limit": {
        "source": "-",
        "amount": -0.0012541560727650958
      },
      "/Euclid Van der Pol/Osc 2/Limit": {
        "source": "lfo1",
        "amount": -0.03191432708645722
      },
      "/Euclid Van der Pol/Osc 3/Limit": {
        "source": "-",
        "amount": -0.06035172444583959
      },
      "/Euclid Van der Pol/Sequencer/K3": {
        "source": "-",
        "amount": 0.06509478102929471
      },
      "/Euclid Van der Pol/Osc 1/DC Block": {
        "source": "sh",
        "amount": -0.0008923325147738892
      },
      "/Euclid Van der Pol/Osc 2/DC Block": {
        "source": "lfo1",
        "amount": -0.0009897293190467855
      },
      "/Euclid Van der Pol/Osc 3/DC Block": {
        "source": "-",
        "amount": 0.03060220501111355
      },
      "/Euclid Van der Pol/Osc 1/Drive": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Osc 2/Drive": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Osc 3/Drive": {
        "source": "-",
        "amount": 0
      },
      "/Euclid Van der Pol/Osc 1/Spread": {
        "source": "lfo1",
        "amount": 0.2590628673692728
      },
      "/Euclid Van der Pol/Osc 2/Spread": {
        "source": "square",
        "amount": -0.023170525894424553
      },
      "/Euclid Van der Pol/Osc 3/Spread": {
        "source": "-",
        "amount": 0.5850568177568404
      },
      "/Euclid Van der Pol/Osc 1/DryWet": {
        "source": "shsq",
        "amount": 0.1396417145330664
      },
      "/Euclid Van der Pol/Osc 2/DryWet": {
        "source": "lfo1",
        "amount": 0.14658778148130874
      },
      "/Euclid Van der Pol/Osc 3/DryWet": {
        "source": "shsq",
        "amount": -0.017886925101073217
      }
    }
  }
}